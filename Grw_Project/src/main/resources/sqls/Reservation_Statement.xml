<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.rgb.grw.dao.ReservationDaoImpl">

	<select id="getBook" resultType="ReservationDto">
	SELECT *
		 FROM (			
		  		SELECT r.*, ROW_NUMBER() OVER (ORDER BY BK_STDAY) RN
		  		FROM RESERVATION r  
		  		WHERE BK_STDAY BETWEEN #{startDate} AND #{endDate}
		  		OR BK_EDDAY BETWEEN  #{startDate} AND #{endDate}
		  )
		WHERE BK_EMPNO = #{bk_empno}
<!-- 	WHERE RN BETWEEN #{st_index} AND #{end_index} -->
<!-- 	AND BK_EMPNO = #{bk_empno} -->
	</select>
	
</mapper>